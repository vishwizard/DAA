class Solution {
public:
    int longestSubarray(vector<int>& nums) {
        int n = nums.size(); 
        int i = 0, prev = 0, curr = 0, maxi = 0;
        while(i<n && nums[i] == 0) i++;
        while(i < n){ 
            if(nums[i] == 0){
                maxi = max(maxi,prev + curr); 
                prev = curr; 
                curr = 0;
            }else curr++;
            i++;
        }
        maxi = max(maxi,prev + curr); 
        return (maxi == n)? n-1 : maxi;
    }
};